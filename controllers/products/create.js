// Generated by CoffeeScript 1.9.1
(function() {
  'use strict';
  var products_db;

  products_db = require('../../models/products_db');

  module.exports = function(req, res, next) {
    var err, product;
    err = null;
    product = req.body;
    if (req.body.title) {
      if (req.body.category && !req.body.category_id) {
        err = next(new Error('category_id not provided'));
      } else {
        products_db.products.save(product, function(err, res) {
          console.log(res);
        });
      }
    } else {
      err = next(new Error('title not provided'));
    }
    if (err) {
      next(err);
    } else {
      next();
    }
  };

}).call(this);
